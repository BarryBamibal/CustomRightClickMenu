<!DOCTYPE HTML>
<link rel="import" href="../../../elements/installing/install-error/install-error.html" />
<link rel="import" href="../../../elements/installing/install-confirm/install-confirm.html" />
<link rel="import" href="../../../bower_components/app-layout/app-layout.html"/>
<link rel="import" href="../../../bower_components/app-layout/app-header-layout/app-header-layout.html"/>
<link rel="import" href="../../../bower_components/app-layout/app-header/app-header.html"/>
<link rel="import" href="../../../bower_components/app-layout/app-toolbar/app-toolbar.html"/>
<link rel="import" href="../../../bower_components/app-layout/app-scroll-effects/app-scroll-effects.html"/>
<link rel="import" href="../../../elements/center-element/center-element.html"/>
<link rel="import" href="../../../bower_components/paper-spinner/paper-spinner.html"/>
<dom-module id="install-page">
	<template>
		<!-- build:css inline ../../../elements/installing/install-page/install-page.css -->
		<link rel="stylesheet" href="../../elements/installing/install-page/install-page.css" />
		<!-- /build -->
		<style>
			.title {
				@apply --layout;
				@apply --layout-flex-auto;
				@apply --layout-center-center;
			}
		</style>
		<div id="pageContainer">
			<app-header-layout>
				<app-header slot="header" reveals effects="waterfall">
					<app-toolbar>
						<div main-title class="title" id="title"></div>
					</app-toolbar>
				</app-header>
				<div class="container">
					<div id="loadingContainer" hide$="{{!isLoading}}">
						<center-element width="100vw" height="calc(100vh - 64px)">
							<div>
								<div id="spinnerCenterer">
									<paper-spinner id="spinner" active></paper-spinner>
								</div>
								<div id="loadingText">Fetching Userscript</div>
							</div>
						</center-element>
					</div>
					<template is="dom-if" if="{{fetchFailed}}">
						<install-error id="installError"></install-error>
					</template>
					<template is="dom-if" if="{{fetchCompleted}}">
						<install-confirm script="{{fetchedData}}"></install-confirm>
					</template>
				</div>
			</app-header-layout>
		</div>
	</template>
</dom-module>
<!-- build:js inline -->
<script src="../../../js/shared.js"></script>
<script src="../../../js/libraries/jquery/jquery-2.0.3.js"></script>
<script src="install-page.js"></script>
<!-- /build -->